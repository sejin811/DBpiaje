<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBpiaje | Main Page</title>
    <link rel="icon" href="img/pepe.jpeg" type="image/png">
    <!-- CSS파일 연결 -->
    <!-- 캐시 무효화 버전 -->
    <link rel="stylesheet" href="style1.css?v=1.0.3">
    <style>
        .banner {
            background-image: url('https://img.freepik.com/fotos-kostenlos/welliger-schwarz-weisser-hintergrund_23-2150530917.jpg?semt=ais_hybrid&w=740');
            background-size: cover;
            background-position: center;
            color: rgb(255, 0, 0);
            text-align: center;
            font-family: Arial, sans-serif;

            /* 가로로 길고 얇은 배너 */
            height: 120px;
            /* 원하는 높이로 조절 */
            width: 100%;

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;

            padding: 0;
            margin: 0;
        }

        .banner h1 {
            font-size: 4rem;
            margin: 0;
        }

        .banner p {
            font-size: 1rem;
            margin: 5px 0 0 0;
        }

        /* 모바일 대응 */
        @media (max-width: 600px) {
            .banner {
                height: 100px;
            }

            .banner h1 {
                font-size: 7vw;
            }

            .banner p {
                font-size: 0.9rem;
            }
        }
    </style>

    <!--노래틀기 스타일 시트-->
    <style>
        .music-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #f5f5f5;
            padding: 10px 20px;
            border-bottom: 1px solid #ccc;
            overflow-x: auto;
            white-space: nowrap;
        }

        .song-btn {
            background-color: #2a6ed1;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
        }

        .song-btn:hover {
            background-color: #1d56aa;
        }

        #now-playing {
            margin-left: auto;
            font-weight: bold;
        }

        .music-bar {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            background: #f5f5f5;
            padding: 10px 20px;
            border-bottom: 1px solid #ccc;
        }

        .song-btn,
        #toggle-play {
            background-color: #2a6ed1;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
        }

        .song-btn:hover,
        #toggle-play:hover {
            background-color: #1d56aa;
        }

        #now-playing {
            display: flex;
            align-items: center;
            font-weight: bold;
            margin-left: auto;
            gap: 5px;
        }

        /* 애니메이션: 음표 흔들기 */
        .note-animation {
            display: inline-block;
            animation: floatNote 1s infinite ease-in-out;
        }

        @keyframes floatNote {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-5px);
            }
        }

        /* 다크모드 지원 */
        body.dark-mode .music-bar {
            background: #333;
            color: #f0f0f0;
        }

        body.dark-mode .song-btn,
        body.dark-mode #toggle-play {
            background-color: #444;
            color: #f0f0f0;
        }

        body.dark-mode .song-btn:hover,
        body.dark-mode #toggle-play:hover {
            background-color: #555;
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 20px;
            width: calc(100% - 40px);
        }

        #progress-bar {
            flex-grow: 1;
            appearance: none;
            height: 6px;
            background: #ccc;
            border-radius: 3px;
            outline: none;
            cursor: pointer;
        }

        #progress-bar::-webkit-slider-thumb {
            appearance: none;
            width: 12px;
            height: 12px;
            background: #2a6ed1;
            border-radius: 50%;
            cursor: pointer;
        }

        body.dark-mode #progress-bar {
            background: #555;
        }

        body.dark-mode #progress-bar::-webkit-slider-thumb {
            background: #ccc;
        }
    </style>
</head>

<body>
    <!--배너-->
    <div class="banner">
        <h1><i>DBpiaje</i>-커뮤니티🕓</h1>
    </div>


    <!-- 사이드바 toggle 버튼 -->
    <button id="toggleSidebar" class="sidebar-toggle">☰</button>

    <!--메뉴-->
    <aside id="sidebar" class="sidebar">
        <h3>ㅤ</h3>
        <a class="menu-button" href="index.html">🏠홈</a>
        <a class="menu-button" href="paper.html">📄논문</a>
        <a class="menu-button" href="community.html">💬공식 커뮤니티</a>
        <a class="menu-button" href="ask.html">❓문의</a>
        <a class="menu-button" href="patch_note.html">📝패치 노트</a>

        <!-- 다크모드 토글 버튼 -->
        <div class="toggle-container">
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
            <span class="toggle-label">다크모드🌙</span>
        </div>
    </aside>

    <!--노래 틀기-->
    <div class="music-bar">
        <div class="progress-container">
            <span id="current-time">0:00</span>
            <input type="range" id="progress-bar" value="0" min="0" max="100" step="1">
            <span id="duration">0:00</span>
        </div>
        <span>🎵 노래 선택:</span>
        <button class="song-btn" data-src="music_file/[다이나믹 쿼드라] 부자 (The Rich) Official Audio(1).mp4">1. [다이나믹
            쿼드라]부자</button>
        <button class="song-btn" data-src="music_file/[똥커] 무엇일까 (what is it) feat.준포 Official Audio.mp4">2. [다이나믹
            쿼드라-똥커] 무엇일까</button>
        <button class="song-btn" data-src="music_file/Bamboo Bimbo _ Kiss.mp3">3. [Initial D] Kiss</button>
        <span id="now-playing">
            ▶ 재생 중: <span id="current-song">없음</span>
            <span class="note-animation">🎵</span>
        </span>

        <button id="toggle-play" style="margin-left: 10px;">⏸ 멈춤</button>
    </div>

    <audio id="audio-player" controls style="display: none;"></audio>

    <h1 style="text-align: center; font-size: 40px;">🔨현재 개발 중인 페이지 입니다</h1>


    <!-- 푸터 -->
    <footer class="footer">
        <p>ⓒ 2025 DBpiaje. All rights reserved.</p>
        <p>문의: yangsejin811@gmail.com</p>
    </footer>
    <script src="javascript/sidebar.js"></script>

    <!--노래 틀기 스크립트-->
    <script>
        const audioPlayer = document.getElementById("audio-player");
        const songButtons = document.querySelectorAll(".song-btn");
        const currentSong = document.getElementById("current-song");
        const togglePlayBtn = document.getElementById("toggle-play");
        let isPlaying = false;

        songButtons.forEach(button => {
            button.addEventListener("click", () => {
                const src = button.getAttribute("data-src");
                audioPlayer.src = src;
                audioPlayer.play();
                isPlaying = true;
                updateStatus(button.textContent);
            });
        });

        togglePlayBtn.addEventListener("click", () => {
            if (isPlaying) {
                audioPlayer.pause();
                togglePlayBtn.textContent = "▶ 재생";
                isPlaying = false;
            } else {
                audioPlayer.play();
                togglePlayBtn.textContent = "⏸ 멈춤";
                isPlaying = true;
            }
        });

        function updateStatus(title) {
            currentSong.textContent = title;
            togglePlayBtn.textContent = "⏸ 멈춤";
        }

        const progressBar = document.getElementById("progress-bar");
        const currentTimeEl = document.getElementById("current-time");
        const durationEl = document.getElementById("duration");

        // 시간 형식: 초 → mm:ss
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60).toString().padStart(2, "0");
            return `${mins}:${secs}`;
        }

        // 오디오 로드 완료 시 전체 길이 표시
        audioPlayer.addEventListener("loadedmetadata", () => {
            progressBar.max = Math.floor(audioPlayer.duration);
            durationEl.textContent = formatTime(audioPlayer.duration);
        });

        // 재생 중일 때 진행 바 업데이트
        audioPlayer.addEventListener("timeupdate", () => {
            progressBar.value = Math.floor(audioPlayer.currentTime);
            currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
        });

        // 사용자가 바를 움직일 때 위치 변경
        progressBar.addEventListener("input", () => {
            audioPlayer.currentTime = progressBar.value;
        });
    </script>
</body>

</html>